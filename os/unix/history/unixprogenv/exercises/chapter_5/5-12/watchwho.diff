1a2,7
> #
> # Modified to use shell variables instead of files.
> #
> # BUGS: Does not work on V7 UNIX because this script requires a shell like
> # bash that supports the <(...) syntax for a pseudo-file argument constructed
> # from command output.
4,6d9
< new=/tmp/wwho1.$$
< old=/tmp/wwho2.$$
< >$old		# create an empty file
10,12c13,15
< 	who >$new
< 	diff $old $new
< 	mv $new $old
---
> 	new=`who`
> 	echo "$new" | diff <(echo "$old") -
> 	old=$new
15c18
< 	    /</ { $1 = "out:	"; print }'
---
>             /</ && $2 { $1 = "out:	"; print }'
