1a2,3
> #
> # Modified to use shell variables instead of files.
4,6d5
< new=/tmp/wwho1.$$
< old=/tmp/wwho2.$$
< >$old		# create an empty file
10,12c9,20
< 	who >$new
< 	diff $old $new
< 	mv $new $old
---
> 	new=`who`
> 	IFS='
> '
> 	for line in `echo "$new"`
> 	do
> 		echo "$old" | grep "$line" >/dev/null || echo "in:	$line"
> 	done
> 	for line in `echo "$old"`
> 	do
> 		echo "$new" | grep "$line" >/dev/null || echo "out:	$line"
> 	done
> 	old=$new
14,15c22
< done | awk '/>/ { $1 = "in:	"; print }
< 	    /</ { $1 = "out:	"; print }'
---
> done
