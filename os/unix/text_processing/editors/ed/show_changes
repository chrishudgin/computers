Search and replace text, showing line numbers and text lines before and after
text replacement:

g/pattern/.=p\
s//replacement/gp

where "pattern" is the text to search and replace and "replacement" is the
replacement text.

This variation requires a modern version of ed that includes the "n" (number
lines" command:

g/pattern/n\
s//replacement/gn
