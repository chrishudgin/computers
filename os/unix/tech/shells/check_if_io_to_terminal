To check whether output is going directly to a terminal (versus a pipe or
   other destination type):

(from http://stackoverflow.com/questions/911168/how-to-detect-if-my-shell-script-is-running-through-a-pipe)

Pure POSIX shell:

if [ -t 1 ] ; then echo terminal; fi

returns "terminal", because the output is going straight to you, while

(if [ -t 1 ] ; then echo terminal; fi) | cat

returns nothing, because the output is going to cat.

The -t flag is described in the man pages as

    -t fd True if file descriptor fd is open and refers to a terminal.

and I take advantage of the usual file descriptor assignments

0:     stdin  
1:     stdout  
2:     stderr
