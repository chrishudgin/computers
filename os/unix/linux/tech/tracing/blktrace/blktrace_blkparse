blktrace generates binary trace data for I/O on block devices.  This data
includes, among other fields:

device major and minor number
timing information (including timing deltas between events if desired)
PID responsible for issuing I/O
action type (stage of I/O request including insertion, dispatch, completion)
I/O characteristics (read or write, starting sector, number of blocks,
   disk partition, SCSI command data)

Simplified syntax:

blktrace data collector:
# blktrace -d <block_device1> [-d <block_device2> ...] \
           [-a <io_event_type_mask1> -a <io_event_type_mask2> ...] \
           [-w <run_time_seconds>] \
           [-o <output_file_basename> | -o -]

blkparse data parser:
# blkparse [-i <input_file_basename> | -i -] \
           [-a<io_event_type_mask1> -a <io_event_type_mask2> ...] \
           [-F <type>,<format> | -f <format>] \
           [-t]

I/O event type masks are described in blktrace(8) as "filter masks".  By
default, with no "-a" options specified, all I/O event types are logged (fs,
read, write, sync, issuance, completion, etc.).

Time deltas between events are added to blkparse output with the "-t" option.

By default, data generated by blktrace is output to one or more files for later
processing by blkparse.  For live parsing, blktrace data can be sent through a
pipeline to blkparse, as in this example:

# blktrace -d /dev/sda -o - | blkparse -i -

When used in a pipeline together, blktrace and blkparse report data in near
real time.  When blkparse is finished, it displays a summary report on total
read, write, and command I/O requests processed.

The output fields and custom formatting options for blkparse are fully
described in blkparse(8).
